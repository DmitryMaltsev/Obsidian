HAL_GetTick()-текущее количество тиков контроллера.
TIMx(x-номер таймера)->CCRx(x-номер канала+1).

Вычисление частоты ШИМ![[Частота ШИМ.jpg]]