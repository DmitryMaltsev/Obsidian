 **Входы:**

1.Конфиг эл нагревателя (0-нет, 1-ступенчатое, 2-твёрдотелка, 3-особый)  «Конфиг» работы системы (Получаем из конфигурации).
2. Код состояния системы(Код) (получем из конечных автоматов).
3. U эл. нагр - приходит из секвенсера
4. Количество ступеней
5. Период ТЭНов- мин. интервал между вкл. и выкл.(получаем из конфигурации).
6. время продувки электрического нагревателя
7. Прессостат ВП1(в единице ли)
8. Обратная связь с контактором KM (DI).
9. Задержка перед включением.

**Выходы:**

1.       Производительность эл нагревателя % (в журнал). 
2.       Выход «Продувка завершена» (идет на конечный автомат).
3.       «Перегрев эл. нагревателя» (идет на конечный автомат).
4.       «КМ безопасности»  (идет на шифратор DO выходы).
5.       Ступени – (идет на шифратор DO выходы).

**Алгоритм работы:**

1. Определяем работу как общий статус работа,  термостат замкнут и прессостат вент замкнут. 
2.  Если нет аварий и сиквенсер передает напряжение > 0 , то включаем 1 ступень
3.  При напряжении больше установленного значения ступени включается следующая ступень и активируется смена выходов, и итоговое напряжение не увеличивается фиксированное значение времени.
4. Ступени увеличиваются постепенно с задержкой  "Задержка перед вкл., сек".
(замыкание контакторов).
5. Если  при работе нагревателя  термоконтакт разомкнулся, то включается продувка калорифера на время = Tпродувка калорифера
6.  При размыкании T70 ,  Т итог обнуляется и поэтому D-триггер обнуляет U итог.
7.   «Обратная связь КМ» отвечает за аварию при перегреве(130 градусов). Передается в конечный автомат и журнал аварий.
